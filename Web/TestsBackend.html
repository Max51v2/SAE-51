<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tests</title>
</head>
<body>
    <h1>Ceci est une page de test</h1>
    <br><br><br><br>
    <h2>Tests Backend</h2>
    <input id="testDeleteUser" type="button" value="DeleteUser (Utilisateur1)" onclick="doFunction();" />
    <input id="testListUsers" type="button" value="ListUsers" onclick="doFunction();" />
    <input id="test20Connexions" type="button" value="20 Connexions" onclick="doFunction();" />
    <input id="testAddUser" type="button" value="AddUser (Utilisateur1)" onclick="doFunction();" />
    <input id="testDeleteToken" type="button" value="DeleteToken (Utilisateur1)" onclick="doFunction();" />
    <input id="testSetPassword" type="button" value="SetPassword (Utilisateur1)" onclick="doFunction();" />
    <input id="testGetLogs" type="button" value="GetLogs (nécéssite de changer les dates dans la page)" onclick="doFunction();" />


<!-- ne pas toucher aux 2 scripts ci-dessous SAUF en cas de BUG -->
<script src="./JS/URL.js" async></script>
<script src="./JS/TokenCheck.js" async></script>

<script>
    //Auteurs JS : Maxime VALLET
    //Version : 0.4


    //tests à partir d'ici
    token1 = sessionStorage.getItem("token");
    token2 = "";

    function TokenVerification1(r3){
        console.log(r3);
    }
    function TokenVerification2(r4){
        console.log(r4);
    }

    document.getElementById("testDeleteUser").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/DeleteUser", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur1", token: token1, Test: false})}).then(r5 => r5.json()).then(DeleteUserVerification)
    };

    function DeleteUserVerification(r5){
        console.log(r5);
    }

    document.getElementById("testListUsers").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/ListUsers", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ token: token1, Test: false})}).then(r6 => r6.json()).then(ListUsersVerification)
    };

    function ListUsersVerification(r6){
        console.log(r6);
    }

    document.getElementById("test20Connexions").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Admin1", password: "Admin", Test: false})}).then(r1 => r1.json()).then(PasswordVerification1)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur1", password: "Utilisateur", Test: false})}).then(r2 => r2.json()).then(PasswordVerification2)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur2", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur3", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur4", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur5", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur6", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur7", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur8", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur9", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur10", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur11", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur12", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur13", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur14", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur15", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur16", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur17", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur18", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
        fetch("https://"+window.ServerIP+":8443/SAE51/CheckPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur19", password: "Utilisateur", Test: false})}).then(r7 => r7.json()).then(ConnexionsVerification)
    };

    function ConnexionsVerification(r7){
        console.log(r7);
    }

    document.getElementById("testAddUser").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/AddUser", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur1", password: "Utilisateur", nom: "Originel", prenom: "Utilisateur", droits: "Utilisateur", token: token1, Test: false})}).then(r8 => r8.json()).then(AddUserVerification)
    };
    
    function AddUserVerification(r8){
        console.log(r8);
    }

    document.getElementById("testDeleteToken").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/DeleteToken", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ login: "Utilisateur1", token: token1, Test: false})}).then(r9 => r9.json()).then(DeleteTokenVerification)
    };
    
    function DeleteTokenVerification(r9){
        console.log(r9);
    }

    document.getElementById("testSetPassword").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/SetPassword", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ target: "Utilisateur1", token: token1, password: "heineken", Test: false})}).then(r10 => r10.json()).then(SetPasswordVerification)
    };
    
    function SetPasswordVerification(r10){
        console.log(r10);
    }

    document.getElementById("testGetLogs").onclick = function () { 
        fetch("https://"+window.ServerIP+":8443/SAE51/GetLogs", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ beginDate: "20241121_000000", endDate: "20241121_100000", token: token1, logLevelReq: "ErrorsOnly", Test: false})}).then(r11 => r11.json()).then(GetLogsVerification)
    };
    
    function GetLogsVerification(r11){
        console.log(r11);
    }
</script>


</body>
</html>