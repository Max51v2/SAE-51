<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/webp" href="./images/flavicon.webp">
    <title>Surveillance des Machines - Liste des PCs</title>
    <link rel="stylesheet" href="./CSS/BannerDiv.css">
    <link rel="stylesheet" href="./CSS/page.css">
    <link rel="stylesheet" href="./CSS/monitoring.css?v=3.0"> <!-- üîÑ Forcer le cache -->
    <link rel="stylesheet" href="./CSS/pcdetails.css"> <!-- Lien vers le fichier CSS pour les d√©tails des PCs -->
</head>
<body>
    <div id="bannerDiv">
        <div id="user">
            <img id="logoUser" src="./images/utilisateur.webp" alt="Logo">
            <p id="id"></p>
            <img id="logoRights" src="./images/droits.webp" alt="Logo">
            <p id="Rights"></p>
        </div>
        <div id="pageName">
            <h2>Surveillance en direct</h2>
        </div>
        <div id="disconnect">
            <button id="submitDisconnect" type="button">
                <p><img id="logoDisconnect" src="./images/deconnexion.webp" alt="Logo"> Se d√©connecter</p>
            </button>
        </div>
    </div>

    <div id="container">
        <div id="sideNav">
            <ul id="navBar"></ul>
        </div>

        <div id="mainContent">
            <div id="MainTable">
                <h2>Liste des Machines</h2>
                <ul class="responsive-table" id="pcList">
                    <!-- En-t√™te du tableau -->
                    <li class="table-header">
                        <div class="col col-1">ID</div>
                        <div class="col col-2">IP</div>
                        <div class="col col-2">Status</div>
                        <div class="col col-4">Actions</div>
                    </li>
                </ul>
            </div>

            <!-- Page de d√©tails du PC -->
            <div id="pcDetailsPage" class="details-page" style="display: none;">
                <h2>D√©tails du PC</h2>
                <table class="rwd-table">
                    <thead>
                        <tr>
                            <th>Attribut</th>
                            <th>Valeur</th>
                        </tr>
                    </thead>
                    <tbody id="staticInfoTable">
                        <!-- Contenu ajout√© dyn -->
                    </tbody>
                </table>
                <button id="backToList1" type="button" class="back-button">Retour √† la Liste</button>
            </div>

            <!-- Page d'affichage des droits d'acc√®s au PC -->
            <div id="pcRights" class="details-page" style="display: none;">
                <h2>Droits d'acc√®s</h2>
                <table class="rwd-table">
                    <thead>
                        <tr>
                            <th>Autoris√©</th>
                            <th>Refus√©</th>
                        </tr>
                    </thead>
                    <tbody id="rightsTable">
                        <tr>
                            <th id="allowed"><!-- Contenu ajout√© dyn --></th>
                            <th id="forbidden"><!-- Contenu ajout√© dyn --></th>
                        </tr>
                    </tbody>
                </table>
                <button id="backToList2" type="button" class="back-button">Retour √† la Liste</button>
            </div>
        </div>
    </div>


<!-- ne pas toucher aux 3 scripts ci-dessous SAUF en cas de BUG -->
<script src="./JS/URL.js" async></script>
<script src="./JS/TokenCheck.js" async></script>
<script src="./JS/CheckTokenExpiration.js" async></script>

<!-- Boutons de navigation -->
<script src="./JS/AddNavButtons.js" async></script>

<!-- Script qui remplit la banni√®re (login + droits) et qui contient les eventListener pour les boutons help et disconnect -->
<script src="./JS/Banner.js" async></script>

<!-- Script de la page -->
<script src="./JS/monitoring.js" defer></script>

</body>
</html>