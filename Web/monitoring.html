<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/webp" href="./images/flavicon.webp">
    <title>Surveillance des Machines - Liste des PCs</title>
    <link rel="stylesheet" href="./CSS/BannerDiv.css">
    <link rel="stylesheet" href="./CSS/page.css">
    <link rel="stylesheet" href="./CSS/monitoring.css?v=3.0"> <!-- üîÑ Forcer le cache -->
    <link rel="stylesheet" href="./CSS/pcdetails.css"> <!-- Lien vers le fichier CSS pour les d√©tails des PCs -->
</head>
<body>
    <div id="bannerDiv">
        <div id="user">
            <img id="logoUser" src="./images/utilisateur.webp" alt="Logo">
            <p id="id"></p>
            <img id="logoRights" src="./images/droits.webp" alt="Logo">
            <p id="Rights"></p>
        </div>
        <div id="pageName">
            <h2>Surveillance en direct</h2>
        </div>
        <div id="disconnect">
            <button id="submitDisconnect" type="button">
                <p><img id="logoDisconnect" src="./images/deconnexion.webp" alt="Logo"> Se d√©connecter</p>
            </button>
        </div>
    </div>

    <div id="container">
        <div id="sideNav">
            <ul id="navBar"></ul>
        </div>

        <div id="mainContent">
            <div id="MainTable">
                <h2 class="h2P">Liste des Machines</h2>
                <ul class="responsive-table" id="pcList">
                    <!-- En-t√™te du tableau -->
                    <li class="table-header">
                        <div class="col col-1">ID</div>
                        <div class="col col-2">IP</div>
                        <div class="col col-3">Status</div>
                        <div class="col col-4">Actions</div>
                    </li>
                </ul>
            </div>

            <!-- Page de d√©tails du PC -->
            <div id="pcDetailsPage" class="details-page" style="display: none;">
                <h2 class="h2P">Informations Statiques</h2>
                <table class="rwd-table">
                    <thead>
                        <tr>
                            <th>Attribut</th>
                            <th>Valeur</th>
                        </tr>
                    </thead>
                    <tbody id="staticInfoTable">
                        <!-- Contenu ajout√© dyn -->
                    </tbody>
                </table>
                <button id="backToList1" type="button" class="back-button">Retour √† la Liste</button>
            </div>

            <!-- Page des infos dyn du PC -->
            <div id="pcDynPage" class="details-page" style="display: none;">
                <div>
                    <h2 class="h2P">Informations Dynamiques</h2>
                </div>
                <div id="refreshDiv">
                    <div>
                        <h1 id="RefreshText"></h1>
                    </div>
                    <div id="placeholder"></div>
                    <div>
                        <h1 id="RefreshCount"></h1>
                    </div>
                </div>
                <div>
                    <table class="rwd-table">
                        <thead>
                            <tr>
                                <th>Attribut</th>
                                <th>Valeur</th>
                            </tr>
                        </thead>
                        <tbody id="DynInfoTable">
                            <!-- Contenu ajout√© dyn -->
                        </tbody>
                    </table>
                    <button id="backToList3" type="button" class="back-button">Retour √† la Liste</button>
                </div>
            </div>

            <!-- Page d'affichage des droits d'acc√®s au PC -->
            <div id="pcRights" class="details-page" style="display: none;">
                <h2 class="h2P">Droits d'acc√®s</h2>
                <table class="rwd-table">
                    <thead>
                        <tr>
                            <th>Autoris√©</th>
                            <th>Refus√©</th>
                        </tr>
                    </thead>
                    <tbody id="rightsTable">
                        <tr>
                            <th id="allowed"><!-- Contenu ajout√© dyn --></th>
                            <th id="forbidden"><!-- Contenu ajout√© dyn --></th>
                        </tr>
                    </tbody>
                </table>
                <button id="backToList2" type="button" class="back-button">Retour √† la Liste</button>
            </div>

            <!-- Page de d√©finition/affichage des seuils d'un PC -->
            <div id="pcThresholds" class="details-page" style="display: none;">
                <div id="pcThresholds1">
                    <h2 class="h2P">D√©finition des seuils</h2>
                    <table class="rwd-table">
                        <thead>
                            <tr>
                                <th>Attribut</th>
                                <th>Saisie</th>
                                <th>Valeur</th>
                            </tr>
                        </thead>
                        <tbody id="thresholdTable">
                            <tr>
                                <th colspan="3">CPU</th>
                            </tr>
                            <tr>
                                <th>Utilisation</th>
                                <th><input id="CPUUtilizationSlider" type="range" min="0" max="100" value="0"></th>
                                <th id="CPUUtilizationVal"></th>
                            </tr>
                            <tr>
                                <th>Temp√©rature</th>
                                <th><input id="CPUTempText" type="text" value="0"></th>
                                <th id="CPUTempVal"></th>
                            </tr>
                            <tr>
                                <th>Consommation</th>
                                <th><input id="CPUConsumptionText" type="text" value="0"></th>
                                <th id="CPUConsumptionVal"></th>
                            </tr>
                            <tr>
                                <th colspan="3">RAM</th>
                            </tr>
                            <tr>
                                <th>Utilisation</th>
                                <th><input id="RAMUtilizationSlider" type="range" min="0" max="100" value="0"></th>
                                <th id="RAMUtilizationVal"></th>
                            </tr>
                            <tr>
                                <th colspan="3">Stockage</th>
                            </tr>
                            <tr>
                                <th>Utilisation</th>
                                <th><input id="storageLoadSlider" type="range" min="0" max="100" value="0"></th>
                                <th id="storageLoadVal"></th>
                            </tr>
                            <tr>
                                <th>Espace restant</th>
                                <th><input id="storageLeftText" type="text" value="0"></th>
                                <th id="storageLeftVal"></th>
                            </tr>
                            <tr>
                                <th>Temp√©rature</th>
                                <th><input id="storageTempText" type="text" value="0"></th>
                                <th id="storageTempVal"></th>
                            </tr>
                            <tr>
                                <th>Erreurs</th>
                                <th><input id="storageErrorsText" type="text" value="0"></th>
                                <th id="storageErrorsVal"></th>
                            </tr>
                            <tr>
                                <th colspan="3">NIC</th>
                            </tr>
                            <tr>
                                <th>Latence</th>
                                <th><input id="networkLatencyText" type="text" value="0"></th>
                                <th id="networkLatencyVal"></th>
                            </tr>
                            <tr>
                                <th>Bande passante</th>
                                <th><input id="networkBandwidthSlider" type="range" min="0" max="100" value="0"></th>
                                <th id="networkBandwidthVal"></th>
                            </tr>
                            <tr>
                                <th colspan="3">Ventilateurs</th>
                            </tr>
                            <tr>
                                <th>Vitesse</th>
                                <th><input id="fanSpeedSlider" type="range" min="0" max="100" value="0"></th>
                                <th id="fanSpeedVal"></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="pcThresholds2">
                    <button id="refreshTresholds" type="button" class="back-button">Reset</button>
                    <button id="sendTresholds" type="button" class="back-button">Envoyer</button>
                    <button id="backToList4" type="button" class="back-button">Retour √† la Liste</button>
                </div>
            </div>
        </div>
    </div>


<!-- ne pas toucher aux 3 scripts ci-dessous SAUF en cas de BUG -->
<script src="./JS/URL.js" async></script>
<script src="./JS/TokenCheck.js" async></script>
<script src="./JS/CheckTokenExpiration.js" async></script>

<!-- Boutons de navigation -->
<script src="./JS/AddNavButtons.js" async></script>

<!-- Script qui remplit la banni√®re (login + droits) et qui contient les eventListener pour les boutons help et disconnect -->
<script src="./JS/Banner.js" async></script>

<!-- Script de la page -->
<script src="./JS/monitoring.js" defer></script>

</body>
</html>